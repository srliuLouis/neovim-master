#define DEFINE_FUNC_ATTRIBUTES
#include "nvim/func_attr.h"
#undef DEFINE_FUNC_ATTRIBUTES
static size_t unibi_pre_fmt_str(TUIData *data, unsigned int unibi_index, char *buf, size_t len);
static void termname_set_event(void **argv);
static void terminfo_start(UI *ui);
static void terminfo_stop(UI *ui);
static void tui_terminal_start(UI *ui);
static void tui_terminal_after_startup(UI *ui) FUNC_ATTR_NONNULL_ALL;
static void tui_terminal_stop(UI *ui);
static void tui_stop(UI *ui);
static _Bool tui_is_stopped(UI *ui);
static void tui_main(UIBridgeData *bridge, UI *ui);
static void tui_scheduler(Event event, void *d);
static void sigcont_cb(SignalWatcher *watcher, int signum, void *data);
static void sigwinch_cb(SignalWatcher *watcher, int signum, void *data);
static _Bool attrs_differ(UI *ui, int id1, int id2, _Bool rgb);
static void update_attrs(UI *ui, int attr_id);
static void final_column_wrap(UI *ui);
static void print_cell(UI *ui, UCell *ptr);
static _Bool cheap_to_print(UI *ui, int row, int col, int next);
static void cursor_goto(UI *ui, int row, int col);
static void clear_region(UI *ui, int top, int bot, int left, int right, int attr_id);
static void set_scroll_region(UI *ui, int top, int bot, int left, int right);
static void reset_scroll_region(UI *ui, _Bool fullwidth);
static void tui_grid_resize(UI *ui, Integer g, Integer width, Integer height);
static void tui_grid_clear(UI *ui, Integer g);
static void tui_grid_cursor_goto(UI *ui, Integer grid, Integer row, Integer col);
static cursorentry_T decode_cursor_entry(Dictionary args);
static void tui_mode_info_set(UI *ui, _Bool guicursor_enabled, Array args);
static void tui_update_menu(UI *ui);
static void tui_busy_start(UI *ui);
static void tui_busy_stop(UI *ui);
static void tui_mouse_on(UI *ui);
static void tui_mouse_off(UI *ui);
static void tui_set_mode(UI *ui, ModeShape mode);
static void tui_mode_change(UI *ui, String mode, Integer mode_idx);
static void tui_grid_scroll(UI *ui, Integer g, Integer startrow, Integer endrow, Integer startcol, Integer endcol, Integer rows, Integer cols FUNC_ATTR_UNUSED);
static void tui_hl_attr_define(UI *ui, Integer id, HlAttrs attrs, HlAttrs cterm_attrs, Array info);
static void tui_bell(UI *ui);
static void tui_visual_bell(UI *ui);
static void tui_default_colors_set(UI *ui, Integer rgb_fg, Integer rgb_bg, Integer rgb_sp, Integer cterm_fg, Integer cterm_bg);
static void tui_flush(UI *ui);
static void show_termcap_event(void **argv);
static void suspend_event(void **argv);
static void tui_suspend(UI *ui);
static void tui_set_title(UI *ui, String title);
static void tui_set_icon(UI *ui, String icon);
static void tui_screenshot(UI *ui, String path);
static void tui_option_set(UI *ui, String name, Object value);
static void tui_raw_line(UI *ui, Integer g, Integer linerow, Integer startcol, Integer endcol, Integer clearcol, Integer clearattr, LineFlags flags, const schar_T *chunk, const sattr_T *attrs);
static void invalidate(UI *ui, int top, int bot, int left, int right);
static void tui_guess_size(UI *ui);
static void unibi_goto(UI *ui, int row, int col);
static void unibi_out(UI *ui, int unibi_index);
static void unibi_out_ext(UI *ui, int unibi_index);
static void out(void *ctx, const char *str, size_t len);
static void unibi_set_if_empty(unibi_term *ut, enum unibi_string str, const char *val);
static int unibi_find_ext_str(unibi_term *ut, const char *name);
static int unibi_find_ext_bool(unibi_term *ut, const char *name);
static void patch_terminfo_bugs(TUIData *data, const char *term, const char *colorterm, long vte_version, long konsolev, _Bool iterm_env, _Bool nsterm);
static void augment_terminfo(TUIData *data, const char *term, long vte_version, long konsolev, _Bool iterm_env, _Bool nsterm);
static void flush_buf(UI *ui);
static const char *tui_get_stty_erase(void);
static const char *tui_tk_ti_getstr(const char *name, const char *value, void *data);
#include "nvim/func_attr.h"
